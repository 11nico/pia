<div class="pia-evaluationBlock" [ngClass]="{'pia-evaluationBlock-shadowed pia-evaluationBlock-self-padding': item.evaluation_mode === 'item'}">
  <div class="pia-evaluationBlock-title">Évaluation</div>
  <div class="pia-evaluationBlock-edit hide">
    <button class="btn" type="button" (click)="activateEvaluationEdition()" title="Éditer"><i class="fa fa-pencil" aria-hidden="true"></i></button>
  </div>
  <form [formGroup]="evaluationForm">
    <div class="pia-evaluationBlock-buttons">
      <!-- TODO : add active state on button according to evaluation.status -->
      <button class="btn btn-red" (click)="selectedButton($event)" data-btn-type="toBeFixed" name="fix" type="submit" title="À corriger">
        À corriger
      </button>
      <button class="btn btn-blue" *ngIf="section.id !== 1" (click)="selectedButton($event)" data-btn-type="improvable" name="improvable" type="submit" title="Améliorable">
        Améliorable
      </button>
      <button class="btn btn-green" (click)="selectedButton($event)" data-btn-type="acceptable" name="acceptable" type="submit" title="Acceptable">
        Acceptable
      </button>
    </div>
    <div class="pia-evaluationBlock-content fadeIn">
      <time datetime="2016-12-12" class="pia-evaluationBlock-date">le 14/12/2016</time>
      <div class="pia-evaluationBlock-actionPlan fadeIn">
        <label for="pia-evaluation-action-plan">Plan d'action / Mesures correctives</label>
        <textarea rows="8" formControlName="evaluationActionPlan" name="pia-evaluation-action-plan" (focus)="evaluationActionPlanFocus()" (focusout)="evaluationActionPlanFocusOut()" cols="50" placeholder="Entrez vos commentaires." id="pia-evaluation-action-plan"></textarea>
      </div>
      <label for="pia-evaluation-comment">Commentaire d'évaluation</label>
      <textarea rows="8" cols="50" formControlName="evaluationComment" name="pia-evaluation-comment" (focus)="evaluationCommentFocus()" (focusout)="evaluationCommentFocusOut()" placeholder="Entrez vos commentaires." id="pia-evaluation-comment"></textarea>

      <!-- Evaluation gauges for "RISKS" -->
      <p class="pia-evaluationBlock-gauge">Prenant en compte le plan d'action, comment ré-évaluez-vous la <span class="red-highlight">gravité du risque</span> d'accès illégitime aux données ?</p>
      <div class="pia-gaugeBlock" *ngIf="item.evaluation_mode === 'item' && item.evaluation_with_gauge === true">
        <!-- TODO : Update current evaluation.gauge[0] -->
        <input type="range" formControlName="gaugeGravityY" min="1" max="4" step="1">
        <div>
          <div>Négligeable</div>
          <div>Limité</div>
          <div>Importante</div>
          <div>Maximale</div>
        </div>
        <!--<div class="pia-gaugeBlock-user-choice pia-gaugeBlock-user-choice-{{evaluationGaugesValues[0][0]}}"></div>-->
        <div class="pia-gaugeBlock-background"></div>
      </div>

      <p class="pia-evaluationBlock-gauge">Prenant en compte le plan d'action, comment ré-évaluez-vous la <span class="red-highlight">vraissemblance du risque</span> d'accès illégitime aux données ?</p>
      <div class="pia-gaugeBlock" *ngIf="item.evaluation_mode === 'item' && item.evaluation_with_gauge === true">
        <!-- TODO : Update current evaluation.gauge[1] -->
        <input type="range" formControlName="gaugeImpactX" min="1" max="4" step="1">
        <div>
          <div>Négligeable</div>
          <div>Limité</div>
          <div>Importante</div>
          <div>Maximale</div>
        </div>
        <!--<div class="pia-gaugeBlock-user-choice pia-gaugeBlock-user-choice-{{evaluationGaugesValues[0][1]}}"></div>-->
        <div class="pia-gaugeBlock-background"></div>
      </div>
    </div>
  </form>
</div>
