<div class="pia-ValidationRefuse">
    <div class="pia-entryContentBlock-content">
        <form [formGroup]="rejectionReasonForm">
            <div class="pia-entryContentBlock-content-subject">
                <div class="pia-entryContentBlock-content-subject-title">
                    <h3>Motif du refus</h3>
                    <button type="button" class="btn" *ngIf="displayEditButton1 && _piaService.pia.status !== 1" (click)="activateRejectionReasonEdition()" title="Éditer"><i class="fa fa-pencil" aria-hidden="true"></i></button>
                </div>
                <div class="pia-entryContentBlock-content-subject-textarea">
                    <textarea (keyup)="autoTextareaResize($event)" id="pia-refuse-reason" rows="8" cols="50" formControlName="rejectionReason" (focus)="rejectionReasonFocus()" (focusout)="rejectionReasonFocusOut()"
                              [disabled]="_piaService.pia.status === 1"
                              placeholder="Décrivez les motifs de refus de validation du PIA"></textarea>
                </div>
            </div>
        </form>
        <form [formGroup]="modificationsMadeForm" *ngIf="_piaService.pia.status === 1">
            <div class="pia-entryContentBlock-content-subject">
                <div class="pia-entryContentBlock-content-subject-title">
                    <h3>Modifications apportées</h3>
                    <button type="button" class="btn" *ngIf="displayEditButton2" (click)="activateModificationsMadeEdition()" title="Éditer"><i class="fa fa-pencil" aria-hidden="true"></i></button>
                </div>
                <div class="pia-entryContentBlock-content-subject-textarea">
                    <textarea (keyup)="autoTextareaResize($event)" id="pia-refuse-modifications" rows="8" cols="50" formControlName="modificationsMade" (focus)="modificationsMadeFocus()" (focusout)="modificationsMadeFocusOut()"
                              placeholder="Décrivez les modifications apportées au PIA"></textarea>
                </div>
            </div>
        </form>
    </div>

    <div class="pia-entryContentBlock-footer">
        <div class="pia-entryContentBlock-content-cancelButtons" *ngIf="_piaService.pia.status !== 1">
            <button type="button" class="btn btn-red" (click)="abandon()"
                    [disabled]="!showRejectionReasonButtons">Abandonner le traitement</button>
            <button type="button" class="btn btn-red" (click)="refuse()"
                    [disabled]="!showRejectionReasonButtons">Refuser le PIA</button>
        </div>
        <a routerLink="/entry/{{_piaService.pia.id}}/section/4/item/4" *ngIf="_piaService.pia.status === 1" class="btn btn-green">Renvoyer pour validation</a>
    </div>
</div>
