<div class="pia-ValidationDPO">
  <div class="pia-entryContentBlock-content">
    <!-- DPO opinions -->
    <div class="pia-entryContentBlock-content-DPO">
      <div>
        <h2>{{ 'opinions.dpo_opinion' | translate }}</h2>
        <button type="button" class="btn pia-questionBlock-edit" *ngIf="displayDpoEditButton" (click)="activateDPOEdition()" title="{{ 'opinions.edit' | translate }}"><i class="fa fa-pencil" aria-hidden="true"></i></button>
      </div>
      <form (click)="checkDpoName()" [formGroup]="DPOForm">
        <p>
          <span>
            <ng-container *ngIf="!_piaService.pia.status || _piaService.pia.status < 2; else displayNames1">
              <input #DpoNames type="text" class="DPOName" (change)="DPOFocusOutNames()" formControlName="DPONames" placeholder="{{ 'opinions.placeholder_dpo_name' | translate }}">
            </ng-container>
            <ng-template #displayNames1>
              {{_piaService.pia.dpos_names}}
            </ng-template>
          </span>{{ 'opinions.content' | translate }}
        </p>
        <div class="pia-entryContentBlock-content-DPO-treatment">
          <div>
            <input type="radio" id="treatment-1" [attr.dirty]="_piaService.pia.dpo_status === 1" [checked]="_piaService.pia.dpo_status === 1" (change)="DPOFocusOutStatus()" formControlName="DPOStatus" value="1">
            <label for="treatment-1">
              <i class="fa fa-circle" aria-hidden="true"></i>
              <i class="fa fa-check" aria-hidden="true"></i>
              <span>{{ 'opinions.treatment_ok' | translate }}</span>
            </label>
          </div>
          <div>
            <input type="radio" id="treatment-2" [attr.dirty]="_piaService.pia.dpo_status === 0" [checked]="_piaService.pia.dpo_status === 0" (change)="DPOFocusOutStatus()" formControlName="DPOStatus" value="0">
            <label for="treatment-2">
              <i class="fa fa-circle" aria-hidden="true"></i>
              <i class="fa fa-close" aria-hidden="true"></i>
              <span>{{ 'opinions.treatment_nok' | translate }}</span>
            </label>
          </div>
        </div>
        <div class="pia-entryContentBlock-content-DPO-reasons">
          <textarea (keyup)="autoTextareaResize($event)" id="pia-opinions-dpo" formControlName="DPOOpinion" (focusout)="DPOFocusOutOpinion()" rows="8" cols="50" placeholder="{{ 'opinions.placeholder_dpo_opinion' | translate }}"></textarea>
        </div>
      </form>
    </div>
    <!-- Concerned people opinions -->
    <div class="pia-entryContentBlock-content-people">
      <div>
        <h2>{{ 'opinions.people_opinion' | translate }}</h2>
        <button type="button" class="btn pia-questionBlock-edit" *ngIf="displayPeopleEditButton" (click)="activatePeopleEdition()" title="'opinions.edit' | translate"><i class="fa fa-pencil" aria-hidden="true"></i></button>
      </div>
      <form (click)="checkConcernedPeopleName()" [formGroup]="peopleForm">
        <p>
          <span>
            <ng-container *ngIf="!_piaService.pia.status || _piaService.pia.status < 2; else displayNames2">
              <input #PeopleNames type="text" class="DPOName" (change)="peopleFocusOutNames()" formControlName="peopleNames" placeholder="{{ 'opinions.placeholder_concerned_people_name' | translate }}">
            </ng-container>
            <ng-template #displayNames2>
              {{_piaService.pia.people_names}}
            </ng-template>
          </span>{{ 'opinions.content' | translate }}
        </p>
        <div class="pia-entryContentBlock-content-DPO-treatment">
          <div>
            <input type="radio" id="dpoAvis-1" [checked]="_piaService.pia.concerned_people_status == 1" (change)="peopleFocusOutStatus()" formControlName="peopleStatus" value="1">
            <label for="dpoAvis-1">
              <i class="fa fa-circle" aria-hidden="true"></i>
              <i class="fa fa-check" aria-hidden="true"></i>
              <span>{{ 'opinions.treatment_ok' | translate }}</span>
            </label>
          </div>
          <div>
            <input type="radio" id="dpoAvis-2" [checked]="_piaService.pia.concerned_people_status == 0" (change)="peopleFocusOutStatus()" formControlName="peopleStatus" value="0">
            <label for="dpoAvis-2">
              <i class="fa fa-circle" aria-hidden="true"></i>
              <i class="fa fa-close" aria-hidden="true"></i>
              <span>{{ 'opinions.treatment_nok' | translate }}</span>
            </label>
          </div>
        </div>
        <div class="pia-entryContentBlock-content-DPO-reasons">
          <textarea (keyup)="autoTextareaResize($event)" id="pia-opinions-people" rows="8" formControlName="peopleOpinion" (focusout)="peopleFocusOutOpinion()" cols="50" placeholder="{{ 'opinions.placeholder_people_opinion' | translate }}"></textarea>
        </div>
      </form>
    </div>
  </div>
</div>
