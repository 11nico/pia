<!-- TODO : Faire en sorte que la hauteur du bloc soit dynamiquement calée sur celle du bloc central -->

<div class="pia-knowledgeBaseBlock">
  <div class="pia-knowledgeBaseBlock-header">
    <i class="fa fa-book" aria-hidden="true"></i>
    <h1>Base de connaissance</h1>
  </div>

  <div class="pia-knowledgeBaseBlock-searchForm">
    <form (ngSubmit)="onSubmit(searchForm)" [formGroup]="searchForm">
      <input type="search" formControlName="q">
      <button class="btn" type="submit" title="Rechercher"><i class="fa fa-search" aria-hidden="true"></i></button>
    </form>
  </div>

  <div class="pia-knowledgeBaseBlock-filters" *ngIf="item && item.filter_by === 'measure'">
    <div>Filtres</div>
    <button class="btn active" type="button" (click)="_knowledgeBaseService.loadByItem(item, $event)" title="Toutes les mesures">Toutes les mesures</button>
    <button class="btn" type="button" (click)="_knowledgeBaseService.search('measure.goverance', $event)" title="Mesures organisationnelles">Mesures organisationnelles</button>
    <button class="btn" type="button" (click)="_knowledgeBaseService.search('measure.data_processing', $event)" title="Mesures sur les données">Mesures sur les données</button>
    <button class="btn" type="button" (click)="_knowledgeBaseService.search('measure.security', $event)" title="Mesures générales">Mesures générales</button>
  </div>

  <div class="pia-knowledgeBaseBlock-list">
    <app-knowledge-base-item *ngFor="let item of _knowledgeBaseService.knowledgeBaseData" [item]="item" (newMeasureEvent)="addNewMeasure($event)"></app-knowledge-base-item>
  </div>
</div>
