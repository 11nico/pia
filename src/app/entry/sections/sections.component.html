<div class="pia-sectionsBlock">
  <div class="pia-sectionBlock-header">
    <h1 class="pia-sectionsBlock-title">{{pia.name}}</h1>
    <a class="pia-icons pia-icon-close-big" routerLink="/home" title="Retourner à l'accueil"></a>
  </div>

  <div class="pia-sectionBlock-body">
    <div *ngFor="let dataSection of data?.sections">
      <div class="pia-sectionBlock-title">
        {{ dataSection.title }}
        <hr>
      </div>
      <ul class="pia-sectionBlock-list">
        <li *ngFor="let dataItem of dataSection?.items">
          <a routerLink="/entry/{{pia.id}}/section/{{dataSection.id}}/item/{{dataItem.id}}"
             [ngClass]="{'active': section.id == dataSection.id && item.id == dataItem.id}">{{dataItem.title}}</a>
          <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
        </li>
      </ul>
    </div>

    <!-- Static section and links -->
    <div>
      <div class="pia-sectionBlock-title"> Validation du Pia
        <hr>
      </div>
      <ul class="pia-sectionBlock-list">
        <li>
          <a routerLink="/entry/{{pia.id}}/risks-cartography">Carthographie des risques</a>
          <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
        </li>
        <li>
          <a routerLink="/entry/{{pia.id}}/action-plan">Plan d'action</a>
          <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
        </li>
        <li>
          <a routerLink="/entry/{{pia.id}}/dpo-and-people-opinions">Avis du DPO et des personnes</a>
          <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
        </li>
      </ul>
    </div>
  </div>
</div>

<div class="pia-validatePIABlock">
  <!-- TODO : add adequate links (2 components : validatePIAComponent / refusePIAComponent ) -->
  <a class="btn btn-inactive" *ngIf="pia.status === 1">Valider le PIA</a>
  <a routerLink="/entry/{{pia.id}}/validate-PIA" class="btn btn-red btn-active"
     *ngIf="pia.status === 3 || pia.status === 4">Valider le PIA</a>
  <a routerLink="/entry/{{pia.id}}/refuse-PIA" class="btn btn-red btn-active hide"
     *ngIf="pia.status === 5">PIA refusé</a>
</div>
<app-attachments></app-attachments>
